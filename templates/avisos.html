{% extends 'layout.html' %}
{% block title %}Gerenciar Avisos{% endblock %}
{% block content %}
    <header>
        <h1>Gerenciar Avisos</h1>
        <p><a href="{{ url_for('index') }}" class="btn"><i class="fa-solid fa-arrow-left nav-link-icon"></i>Voltar ao Dashboard</a></p>
    </header>
    <hr>
    <div class="card">
        <section id="novo-aviso">
            <h2>Criar Novo Aviso</h2>
            <form action="{{ url_for('add_aviso') }}" method="post">
                <p>
                    <label for="descricao">Descrição do Aviso:</label><br>
                    <textarea name="descricao" id="descricao" rows="4" required></textarea>
                </p>
                <p>
                    <label for="prioridade">Prioridade:</label><br>
                    <select name="prioridade" id="prioridade" required>
                        <option value="Baixa">Baixa (Verde)</option>
                        <option value="Média">Média (Amarelo)</option>
                        <option value="Alta">Alta (Vermelho)</option>
                        <option value="Emergencial">Emergencial (Laranja)</option>
                    </select>
                </p>
                <p>
                    <label for="data_inicio">Início da Exibição:</label><br>
                    <input type="date" id="data_inicio" name="data_inicio" required>
                </p>
                <p>
                    <label for="data_fim">Fim da Exibição:</label><br>
                    <input type="date" id="data_fim" name="data_fim" required>
                </p>
                <button type="submit" class="btn">Salvar Aviso</button>
            </form>
        </section>
    </div>
    <div class="card">
        <main id="lista-avisos">
            <h2>Avisos Cadastrados</h2>
            {% if avisos %}
                <div>
                    {% for aviso in avisos %}
                        <div class="aviso prioridade-{{ aviso['prioridade'] }}">
                            <i class="fa-solid fa-circle-exclamation"></i>
                            <div>{{ aviso['descricao'] }}</div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>Nenhum aviso cadastrado.</p>
            {% endif %}
        </main>
    </div>
{% endblock %}